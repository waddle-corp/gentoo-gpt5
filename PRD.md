# PRD — 젠투(GenTwo) “디지털 클론 시뮬레이션 대시보드” (v2)

---

## 1. 제품 요약

- **온라인 쇼핑몰 사장님이 자연어로 질문**
    - **좌측:** LLM과 상담
    - **우측:** 디지털 클론 n명이 각각 챗봇과 멀티턴 대화 수행  
      → 각자 구매/미구매(true/false) 결론 + 간단 이유 + **대화 로그(전문/요약)** 수집/집계/시각화

- **자동 시뮬레이션 트리거**
    - 사장님은 자연스럽게 대화만 하면 됨
    - 시스템이 “시뮬이 필요한 질의” 감지해 자동 트리거 (수동 트리거 버튼도 제공)

---

## 2. 대상 사용자 & JTBD

- **대상:** 온라인 쇼핑몰 오너/머천다이저
- **JTBD:**  
  신규 상품/가격/프로모션 등의 가설에 대해, 실제 고객처럼 행동하는 디지털 클론 대화 결과를 근거로 지금 의사결정을 내리고 싶다.

---

## 3. 주요 사용자 시나리오 (업데이트)

1. 오너가 좌측 패널에서 질문  
   예: “새로운 아기 옷 브랜드 바지를 추가하면 사람들이 살까?”
2. **LLM-A(주 대화 모델):** 답변 스트리밍  
   **LLM-B(감지 모델):** “시뮬 필요 여부” 판정 → 필요 시 시뮬레이션 트리거
3. **시뮬레이터:**  
   - 업로드된 CSV의 디지털 클론 프로필(코호트/선호/소득/이전 구매/행동) 기반 n명 샘플링
   - 각 클론이 **챗봇(점원 역할)**과 멀티턴 대화 루프 자동화  
     (예: 1~4턴 — 클론 질문/의도 → 챗봇 응대/제안 → 클론 반응/추가 질문 …)
   - 중간/최종에 클론이 구매/미구매(true/false) 결정, 짧은 이유 남김
4. **집계:**  
   - 전체/코호트별 구매율, 상위 이유, **각 클론의 대화 로그(전문/요약)** 저장/조회
5. **시각화:**  
   - 우측 패널: 시뮬레이션 결과 차트 (투표/분포/이유)

---

## 4. 범위 (MVP)

- 좌측 대화
- 시뮬 감지 자동화(+수동 트리거)
- n개 클론 멀티턴 대화 시뮬
- 우측 패널 시뮬레이션 결과 차트
- 개인정보/PII 없는 익명 클론 ID
- 단일 테넌트, 임시 스토리지(메모리/파일 or SQLite)

---

## 5. 비범위(해커톤)

- 정식 인증/권한
- 멀티테넌트
- 장기 영속/분석
- 대규모 비용 최적화

## Technical Requirements — 설계 & 사양 (v2)

### 1. 스택

- **Next.js**  
  - App Router  
  - TypeScript

- **Vercel AI SDK**  
  - 프런트: `useChat` (좌측 대화 스트리밍)  
  - 서버: Responses API 호출 (감지/시뮬/요약), 서버 측 fan-out/배치

- **UI**  
  - `assistant-ui`: 채팅 UI  
  - Tailwind CSS  
  - shadcn/ui  
  - Lucide (아이콘)

- **상태/데이터**  
  - TanStack Query: 업로드, 프로그레스 폴링  
  - Zustand: 좌측/우측 패널 공유 상태

- **시각화**  
  - Recharts: 차트